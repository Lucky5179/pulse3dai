(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2399],{96936:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/image-to-3d",function(){return a(57099)}])},95022:function(e,s,a){"use strict";var l=a(85893);a(67294);var t=a(25142),i=a.n(t);s.Z=e=>{let{id:s,onclickFunction:a,percentage:t,retrive_id:n}=e;return(0,l.jsx)("div",{className:i().buttonContainer,children:(0,l.jsxs)("button",{className:i().loadingButton,children:[(0,l.jsx)("span",{className:"fs-10 fw-800",children:t}),(0,l.jsxs)("svg",{className:i().loadingCircle,viewBox:"0 0 36 36",children:[(0,l.jsx)("path",{className:i().circleBg,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),(0,l.jsx)("path",{className:i().circle,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",style:{strokeDashoffset:100-t/100*100}})]})]})})}},57099:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return x}});var l=a(85893);a(9008),a(25675);var t=a(8607),i=a(67294),n=a(91444),d=a(39332),c=a(87066),r=a(24341),o=a(78831),u=a(45244),m=a(60289),v=a(95022);function x(){var e;let{address:s,isConnected:a,isConnecting:x,chain:h,chainId:f}=(0,o.e)(),[p,j]=(0,i.useState)(m.ib),[g,N]=(0,i.useState)(null),b=(0,i.useRef)(null),[w,_]=(0,i.useState)(1),[y,k]=(0,i.useState)(""),[B,C]=(0,i.useState)(!1),[S,A]=(0,i.useState)(""),[T,E]=(0,i.useState)(""),[I,P]=(0,i.useState)(""),[R,D]=(0,i.useState)(0),[F,L]=(0,i.useState)(null),[M,Z]=(0,i.useState)(""),[U,O]=(0,i.useState)(null),W=(0,i.useRef)(null),{push:X}=(0,d.useRouter)(),[z,G]=(0,i.useState)({prompt:""}),H=()=>{n.Am.error("Please connect your wallet",{position:"top-center",icon:!0,theme:"dark"})},J=async()=>{if(0==M.length)return n.Am.warn("Ops! Please Upload your Image.");C(!0);try{c.Z.post(r.bl.assets_create_imageto3d,{image:M,user_id:p,wallet:s,ai_model:"meshy-4"}).then(e=>{if(200==e.status){var s,a,l,t,i;200==e.data.result?(k(null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.message),A(null==e?void 0:null===(l=e.data)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.retrive_id),D(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.balance),_(1),W.current=setInterval(async()=>{var s,a;await q(null==e?void 0:null===(a=e.data)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.retrive_id)},5e3)):n.Am.warning(null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.message)}setTimeout(()=>{C(!1)},100)})}catch(e){C(!1),n.Am.error(e)}},K=async()=>{A(""),E(""),P(""),k(""),z.prompt="",G({...z})},q=async e=>{C(!0);try{c.Z.post(r.bl.assets_retrive_imageto3d,{retrive_id:e}).then(e=>{if(200==e.status){var s,a,l,t,i,n,d,c,r,o;200==e.data.result?(k(null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.message),P(null==e?void 0:null===(l=e.data)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.thumbnail_url),E(null==e?void 0:null===(i=e.data)||void 0===i?void 0:null===(t=i.data)||void 0===t?void 0:t.link),_(null==e?void 0:null===(d=e.data)||void 0===d?void 0:null===(n=d.data)||void 0===n?void 0:n.progress),Q()):202==e.data.result&&(k(null==e?void 0:null===(c=e.data)||void 0===c?void 0:c.message),_(null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(r=o.data)||void 0===r?void 0:r.progress))}setTimeout(()=>{C(!1)},100)})}catch(e){C(!1),n.Am.error(e)}},Y=async()=>{if(null!=s&&0!=s.length){C(!0);try{c.Z.post(r.bl.walletMember,{wallet:s}).then(e=>{if(200==e.status){var s,a,l,t,i;200==e.data.result||203==e.data.result?(j(null==e?void 0:null===(a=e.data)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.user_id),D(null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(l=t.data)||void 0===l?void 0:l.balance)):n.Am.warning(null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.message)}setTimeout(()=>{C(!1)},100)})}catch(e){C(!1),n.Am.error(e)}}};(0,i.useEffect)(()=>{a?Y():j(m.ib)},[a]);let Q=()=>{W.current&&(clearInterval(W.current),W.current=null)};(0,i.useEffect)(()=>{100==w&&Q()},[w]),(0,i.useEffect)(()=>()=>Q(),[]);let V=()=>{n.Am.info("Each 3D asset generated deducts 2 credits.")};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(t.Z,{selectedIndex:null===(e=m.s)||void 0===e?void 0:e.imageTo3D,children:(0,l.jsx)("section",{className:"section-app",children:(0,l.jsxs)("div",{className:"d-flex justify-content-between flex-column page-panel-3d",children:[(0,l.jsxs)("div",{className:"w-100 h-100 d-flex flex-column align-items-center justify-content-between",children:[(0,l.jsxs)("div",{className:"px-3 w-100 d-flex justify-content-between align-items-center",children:[(0,l.jsx)("div",{className:"w-100 title-card",children:"Image to 3D"}),(0,l.jsxs)("div",{className:"d-flex align-items-center btn-custom-dark btn btn-sm rad-8",onClick:()=>{V()},children:[(0,l.jsx)("img",{src:"/assets/img/icons/credits-coin.png",className:"me-1",style:{width:"14px"},alt:""})," "," ".concat(void 0!==R?R:0)]})]}),(0,l.jsxs)("div",{className:"w-100 h-100 d-flex flex-column align-items-end justify-content-end",children:[!a&&(0,l.jsx)("div",{className:"mb-3 px-3",children:(0,l.jsx)("div",{className:"card card-caution shadow-sm",children:(0,l.jsx)("div",{className:"card-body px-3 py-2",children:(0,l.jsxs)("div",{className:"row d-flex align-items-center",children:[(0,l.jsx)("div",{className:"col-md-8 col-12 mb-md-0 mb-2",children:"Please connect your wallet to view the assets you have created in the 'My Assets' section"}),(0,l.jsx)("div",{className:"col-md-4 col-12",children:(0,l.jsx)(u.j,{classWidth:"w-100"})})]})})})}),(0,l.jsx)("div",{className:"w-100 d-flex justify-content-end px-3",children:(0,l.jsxs)("div",{className:"card card-darker p-3 mt-3 ".concat(U?"":"d-none"),style:{width:"230px"},children:[(0,l.jsxs)("label",{className:"fs-12",children:["User @",p]}),(0,l.jsx)("div",{children:(0,l.jsx)("img",{src:U,alt:"File Preview",style:{maxWidth:"200px",maxHeight:"200px",borderRadius:"20px"}})})]})}),(0,l.jsx)("div",{className:"w-100 px-3",children:(0,l.jsxs)("div",{className:""===I?"d-none":"card card-dark mt-3",style:{width:"50%"},children:[(0,l.jsx)("div",{style:{position:"relative"},children:(0,l.jsx)("img",{alt:"",className:"fixed-square img-radius",src:""===I?"/assets/img/shape/product-3.png":I})}),(0,l.jsx)("div",{className:"px-2 pb-2",children:(0,l.jsx)("div",{className:"align-items-center",children:(0,l.jsxs)("div",{className:"",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"fs-12",children:"Pulse3D:"}),(0,l.jsx)("p",{className:"m-0 p-0",style:{fontStyle:"italic"},children:"Here we go!"})]}),(0,l.jsxs)("a",{className:"fs-12 fw-800 m-0 p-0 cursor-pointer",onClick:()=>{X("/app/collection")},children:["My Assets ",(0,l.jsx)("i",{className:"fa fa-arrow-right"})]})]})})})]})}),(0,l.jsx)("div",{className:"w-100 px-3",children:(0,l.jsx)("div",{className:"card card-dark p-3 mt-3 ".concat(""===y||""!==y&&""!==I?"d-none":""),style:{width:"70%"},children:(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"fs-12",children:"Pulse3D:"}),(0,l.jsx)("p",{className:"m-0 p-0",style:{fontStyle:"italic"},children:"Processing your Image."})]})," ",(0,l.jsx)(v.Z,{percentage:w})]})})})]})]}),(0,l.jsx)("div",{className:"w-100 mb-3 console",children:(0,l.jsxs)("div",{className:"p-3",children:[(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:"file",children:"Upload Image"}),(0,l.jsx)("input",{className:"form-control",type:"file",accept:"image/*",ref:b,onChange:e=>{let s=e.target.files[0];if(s){if(s.size>1048576){n.Am.error("File max 1MB",{position:"bottom-center",icon:!0,theme:"dark"}),L(null),O(null),b.current.value="";return}{L(s);let e=new FileReader;e.onloadend=()=>{O(e.result);let s=e.result;Z(s)},e.readAsDataURL(s)}}}})]})}),(0,l.jsxs)("div",{className:"",children:[(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("i",{className:"fa fa-info-circle me-1"}),"The maximum upload file size is 1MB."]}),(0,l.jsx)("div",{children:""===S?(0,l.jsx)("button",{className:"btn btn-sm btn-custom-primary-2 rad-16 w-100",onClick:a?()=>{J()}:()=>{H()},children:B?"processing":"Generate"}):""===I?(0,l.jsx)("button",{className:"btn btn-sm btn-custom-outline-primary rad-16 w-100",onClick:()=>{q(S)},children:(0,l.jsxs)("span",{children:[(0,l.jsx)("i",{className:"fa fa-refresh fa-spin me-2"}),w>90?"Finishing Up":"Rendering"]})}):(0,l.jsx)("button",{className:"btn btn-sm btn-custom-outline-primary rad-16 w-100",onClick:()=>{K()},children:B?"Rendering":"Clear Result"})})]})]})})]})})})})}},25142:function(e){e.exports={buttonContainer:"LoadingButton_buttonContainer__IidJc",loadingButton:"LoadingButton_loadingButton__IkT_D",buttonText:"LoadingButton_buttonText__JtdgT",loadingCircle:"LoadingButton_loadingCircle__XGWFy",circleBg:"LoadingButton_circleBg__K1KsY",circle:"LoadingButton_circle__tbueZ"}}},function(e){e.O(0,[4885,6008,8764,5675,7066,8607,9774,2888,179],function(){return e(e.s=96936)}),_N_E=e.O()}]);